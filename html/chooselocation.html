<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Amazing Flight Race</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <link rel="stylesheet" href="css/background.css">
  <link rel="stylesheet" href="css/minigame_query.css">
  <style>
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
    font-size: 16px; /* default, can be adjusted if needed */
  }

  #game-background {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
  }

  .minigame-popup {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.9);
    padding: 1.25rem;         /* 20px -> 1.25rem */
    border-radius: 0.9375rem; /* 15px -> 0.9375rem */
    box-shadow: 0 0 1.25rem rgba(0, 0, 0, 0.5); /* 20px -> 1.25rem */
    max-width: 31.25rem;      /* 500px -> 31.25rem */
    width: 90%;
    text-align: center;
  }

  #map {
    height: 23.4375rem; /* 375px -> 23.4375rem */
    width: 100%;
    border-radius: 0.625rem; /* 10px -> 0.625rem */
    margin-top: 0.9375rem;   /* 15px -> 0.9375rem */
  }

  button {
    margin-top: 1rem;
    padding: 0.5rem 1rem;
    font-size: 1rem;
    border-radius: 0.5rem;
    border: none;
    cursor: pointer;
  }
</style>
</head>
<body>

<div id="game-background"></div>

<div class="minigame-popup">
  <h2>Miss√§ kaupungissa olet?</h2>
  <div id="map"></div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script type="module">
  import { initFlightBackground } from './js/background.js';
  initFlightBackground('#game-background');
</script>

<script>
  const cities = [
    { name: "Helsinki", coords: [60.1695, 24.9354] },
    { name: "Paris", coords: [48.8566, 2.3522] }
  ];

  const map = L.map('map', { zoomControl: false });

  const markers = cities.map(city =>
    L.marker(city.coords).addTo(map).bindPopup(city.name)
  );

  L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png', {
    attribution: '&copy; OpenStreetMap & CartoDB',
    maxZoom: 10
  }).addTo(map);

  const group = L.featureGroup(markers);
  map.fitBounds(group.getBounds().pad(0.3));
</script>

</body>
</html>